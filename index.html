<!DOCTYPE html>
<html lang="zh-hant-tw" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>g0v dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style media="screen">
      .card .card-text span {
        font-size: 4em;
      }
      .footer {
        background-color: #666;
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 3em;
        line-height: 3em;
      }
      .footer a {
        color: #FFF;
        padding-right: 1em;
      }
    </style>
  </head>
  <body>
    <div class="container py-4">
      <div class="card-columns">
        <div class="card" id="slack-users">
          <div class="card-body text-center">
            <p class="card-text">
              <span>0</span><a style="font-size: 3em;">+</a><br>
              參與者
            </p>
          </div>
        </div>
        <div class="card" id="slack-channels">
          <div class="card-body text-center">
            <p class="card-text">
              <span>0</span><br>
              slack討論頻道
            </p>
          </div>
        </div>
        <div class="card" id="slack-messages">
          <div class="card-body text-center">
            <p class="card-text">
              <span>0</span><a style="font-size: 3em;">+</a><br>
              slack討論訊息
            </p>
          </div>
        </div>
        <div class="card" id="summit-count">
          <div class="card-body text-center">
            <p class="card-text">
              <span>0</span>次<br>
              <a href="https://summit.g0v.tw/" target="_blank">國際雙年會</a>
            </p>
          </div>
        </div>
        <div class="card" id="hackathon-count">
          <div class="card-body text-center">
            <p class="card-text">
              <span>0</span>次<br>
              雙月大黑客松
            </p>
          </div>
        </div>
        <div class="card" id="hackathon-proposals">
          <div class="card-body text-center">
            <p class="card-text">
              <span>0</span>個<br>
              大松提案
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="footer text-center">
      <a href="https://github.com/g0v/g0v-dashboard" target="_blank">github</a>
      <a href="https://jothon.g0v.tw" target="_blank">揪松網</a>
      <a href="https://g0v.tw" target="_blank">g0v.tw</a>

    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script type="text/javascript">
      $.get("http://yunlin-teng-437911.middle2.me/", function(data){
        console.log(data.data);
        var titles = Object.keys(data.data);
        titles.forEach((_title) => {
          _data = data.data[_title];
          var subtitles = Object.keys(_data);
          subtitles.forEach((_subtitle) => {
            console.log(`${_title}-${_subtitle}: ${_data[_subtitle]}`);
            $(`#${_title}-${_subtitle} .card-text span`).text(_data[_subtitle]);
          });

        });
      });
    </script>
  </body>
</html>
